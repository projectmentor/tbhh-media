/* tbhh-debug.js - Minified 2025-09-08_114223 */
{const e={CORE:"tbhhCore",CONFIG:"tbhhConfig",BROKER_INFO:"tbhhBrokerInfo",BROKER_ELEMENTS:"tbhhBrokerElements",AGENT_BYPASS:"tbhhAgentBypass",LOADER:"tbhhLoader",EXTENDED_CORE:"tbhhExtendedCore",EXTENDED_UI:"tbhhExtendedUI",LEGACY_BROKER_INFO:"_tbhhLegacyBrokerInfo"};window.tbhhDebug=window.tbhhDebug||{};let o={};window.tbhhDebug.scan=()=>{const n={timestamp:(new Date).toISOString(),modules:{},namespacesFound:[],possibleConflicts:[],recommendations:[]};return Object.values(e).forEach(e=>{window[e]&&(n.namespacesFound.push(e),n.modules[e]={exists:!0,hasInit:"function"==typeof window[e].init,functions:Object.keys(window[e]).filter(o=>"function"==typeof window[e][o]),properties:Object.keys(window[e]).filter(o=>"function"!=typeof window[e][o])})}),n.namespacesFound.includes(e.BROKER_INFO)&&(n.namespacesFound.includes(e.EXTENDED_CORE)||n.namespacesFound.includes(e.LEGACY_BROKER_INFO))&&n.possibleConflicts.push("Multiple broker info sources detected"),n.possibleConflicts.length>0&&n.recommendations.push("Remove or disable site-global.js loading to avoid conflicts"),n.loadedScripts=Array.from(document.querySelectorAll("script")).filter(e=>e.src&&(e.src.includes("projectmentor/tbhh-media")||e.src.includes("projectmentor/tbhh-lofty"))).map(e=>e.src),o=n,console.group("🔍 TBHH Diagnostics Report"),console.log("Timestamp:",n.timestamp),console.log("Modules found:",n.namespacesFound),n.possibleConflicts.length>0&&(console.warn("⚠️ Potential conflicts detected:"),n.possibleConflicts.forEach(e=>{console.warn(`- ${e}`)})),n.recommendations.length>0&&(console.log("📋 Recommendations:"),n.recommendations.forEach(e=>{console.log(`- ${e}`)})),console.log("📜 Loaded TBHH scripts:",n.loadedScripts),console.groupEnd(),n},window.tbhhDebug.getReport=()=>o,window.tbhhDebug.hasModule=e=>{const o=window.tbhhDebug.getReport();return o&&o.namespacesFound&&o.namespacesFound.includes(e)},window.tbhhDebug.getMissingModules=()=>{const o=window.tbhhDebug.getReport();return o&&o.namespacesFound?Object.values(e).filter(e=>!o.namespacesFound.includes(e)):Object.values(e)},window.runTbhhDiagnostics=window.tbhhDebug.scan,setTimeout(()=>{window[e.CONFIG]?.debug&&window.tbhhDebug.scan()},3e3)}