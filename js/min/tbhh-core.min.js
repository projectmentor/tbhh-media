/* tbhh-core.js - Minified 2025-09-13_195029 */
{window.tbhhCore=window.tbhhCore||{};const e="[TBHH Core]";window.tbhhCore.emitEvent=(t,o={})=>{const n=new CustomEvent(`tbhh:${t}`,{bubbles:!0,detail:{...o,timestamp:(new Date).toISOString()}});document.dispatchEvent(n),window.tbhhConfig?.DEBUG&&console.log(`🔔 ${e} Event emitted: ${t}`,o)},window.tbhhCore.init=t=>{console.log(`✅ ${e} Core initializing...`),window.tbhhBrokerInfo?window.tbhhCore.safeExecute(window.tbhhBrokerInfo.init,"agent info initialization"):console.error(`${e} Agent info module not loaded`),window.tbhhAgentBypass?window.tbhhCore.safeExecute(window.tbhhAgentBypass.init,"agent bypass initialization",t):console.error(`${e} Agent bypass module not loaded`),window.tbhhBrokerElements?window.tbhhCore.safeExecute(window.tbhhBrokerElements.init,"agent/broker elements initialization"):console.error(`${e} Agent/broker elements module not loaded`),window.tbhhCore.emitEvent("core-initialized",{modulesLoaded:["tbhhBrokerInfo","tbhhAgentBypass","tbhhBrokerElements"].filter(e=>window[e])}),console.log(`✅ ${e} Core initialization complete`)},window.tbhhCore.safeExecute=(t,o,...n)=>{try{return t(...n)}catch(t){return console.warn(`${e} Error in ${o}:`,t),void window.tbhhCore.emitEvent("error",{context:o,message:t.message,stack:t.stack})}},window.tbhhCore.registerEventListeners=()=>{document.addEventListener("tbhh:config-updated",e=>{console.log("🔍 [TBHH] Configuration updated:",e.detail)}),document.addEventListener("tbhh:error",e=>{window.tbhhConfig?.DEBUG&&console.warn("🚨 [TBHH] Error detected:",e.detail)})},"loading"!==document.readyState?window.tbhhCore.init(window.siteAppVm):document.addEventListener("DOMContentLoaded",()=>{window.tbhhCore.init(window.siteAppVm)}),window.tbhhCore.registerEventListeners()}