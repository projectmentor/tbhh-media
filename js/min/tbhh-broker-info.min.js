/* tbhh-broker-info.js - Minified 2025-09-08_140328 */
{window.tbhhBrokerInfo=window.tbhhBrokerInfo||{};const o="[TBHH BrokerInfo]";let n=null;window.tbhhBrokerInfo.detectSubdomain=()=>{const o=window.location.hostname.split(".");return o.length>2?{isSubdomain:!0,subdomain:o[0]}:{isSubdomain:!1,subdomain:null}},window.tbhhBrokerInfo.getBrokerInfo=()=>{const n=window.tbhhConfig.CDN_BASE_MEDIA,e=window.tbhhConfig,i=e.AGENT_CONFIG,r=e.BROKER_CONFIG;console.log(`ðŸ” ${o} Using media CDN base:`,n),console.log(`ðŸ” ${o} Current hostname:`,window.location.hostname);const t=window.tbhhBrokerInfo.detectSubdomain();let a;a=t.isSubdomain?i.domains.subdomains[t.subdomain]?i.domains.subdomains[t.subdomain].agentId:i.domains.default.agentId:i.domains.main.agentId;const d=i.agents[a],m=r[d.brokerId],l={agentId:d.id||a,name:d.name,phone:d.phone,email:d.email,title:d.title,brokerId:d.brokerId,brokerName:m.name,brokerShortName:m.shortName,logo:m.logo};return{...l,logo:l.logo?`${n}${l.logo}`:null}},window.tbhhBrokerInfo.init=()=>{try{if(!window.tbhhConfig)return console.error(`${o} Configuration not available. Cannot initialize broker info.`),null;console.log(`âœ… ${o} Initializing agent info module...`);const e=window.tbhhBrokerInfo.detectSubdomain(),i=window.tbhhBrokerInfo.getBrokerInfo();return n={isSubdomain:e.isSubdomain,subdomain:e.subdomain,agentId:i.agentId,name:i.name,phone:i.phone,email:i.email,title:i.title,brokerId:i.brokerId,brokerName:i.brokerName,brokerShortName:i.brokerShortName,logo:i.logo},console.log(`âœ… ${o} Agent info set:`,i.name,`(${i.brokerName||i.brokerShortName||""})`,e.isSubdomain?`(subdomain: ${e.subdomain})`:"(main domain)"),console.log(`âœ… ${o} Agent info module initialized`),n}catch(n){console.warn(`${o} Error initializing broker info:`,n)}},window.tbhhBrokerInfo.getBrokerData=()=>(n||(n=window.tbhhBrokerInfo.init()),n)}