/* tbhh-broker-elements.js - Minified 2025-09-14_134226 */
{window.tbhhBrokerElements=window.tbhhBrokerElements||{};const e={BROKER_NAME_ELEMENTS:".company, .broker-name, [data-broker-name], .co-name",AGENT_INFO_ELEMENTS:".detail-info, .owner-info, .agent-info",BROKER_LOGO_ELEMENTS:"img.broker-logo, img[data-broker-logo]",SUBDOMAIN_DETAIL:".subdomain-detail"},o="[TBHH BrokerElements]",n=3e3,t=500;let r=!1,l=null,i=null;const a=()=>window.tbhhBrokerInfo?window.tbhhBrokerInfo.getBrokerData():(console.error(`${o} Cannot get agent data: tbhhBrokerInfo module not available`),null),s=()=>{const n=a();if(n)try{const o=window.tbhhConfig.BROKER_CONFIG,t=Object.values(o).map(e=>e.name||""),r=Object.values(o).map(e=>e.shortName||"");document.querySelectorAll(e.BROKER_NAME_ELEMENTS).forEach(e=>{const o=e.textContent.trim(),l=t.some(e=>o.includes(e)),i=r.some(e=>o===e);(l||i)&&(e.textContent=n.name)}),n.isSubdomain&&document.querySelectorAll(e.AGENT_INFO_ELEMENTS).forEach(o=>{o.closest(e.SUBDOMAIN_DETAIL)||(o.style.display="none")}),n.logo&&document.querySelectorAll(e.BROKER_LOGO_ELEMENTS).forEach(e=>{e.src=n.logo})}catch(e){console.error(`${o} Error processing DOM elements:`,e)}else console.warn(`${o} No agent data available, cannot replace elements`)},d=()=>{l&&l.disconnect(),l=new MutationObserver(s),l.observe(document.body,{childList:!0,subtree:!0})};window.tbhhBrokerElements.init=()=>{try{if(r)return;if(console.log(`✅ ${o} Initializing agent/broker elements module...`),!window.tbhhBrokerInfo)return console.warn(`${o} Broker info module not loaded. Will retry later.`),void setTimeout(window.tbhhBrokerElements.init,t);if(!window.tbhhConfig)return void console.error(`${o} Configuration not available. Cannot proceed.`);s(),d(),i=setInterval(s,n),r=!0,window.tbhhCore?.emitEvent&&window.tbhhCore.emitEvent("brokerElementsInitialized",{timestamp:Date.now()}),console.log(`✅ ${o} Agent/broker elements module initialized`)}catch(e){console.warn(`${o} Error initializing agent/broker elements:`,e)}},window.tbhhBrokerElements.destroy=()=>{try{l&&(l.disconnect(),l=null),i&&(clearInterval(i),i=null),r=!1,window.tbhhCore?.emitEvent&&window.tbhhCore.emitEvent("brokerElementsDestroyed",{timestamp:Date.now()}),console.log(`✅ ${o} Agent/broker elements module destroyed`)}catch(e){console.warn(`${o} Error destroying agent/broker elements module:`,e)}}}